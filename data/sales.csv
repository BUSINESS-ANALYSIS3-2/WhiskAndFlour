import pandas as pd
import numpy as np
import random
from datetime import datetime, timedelta
import os

# Ensure output directory exists
os.makedirs("data", exist_ok=True)

# Define products and prices
products = {
    "Croissant": 15,
    "Baguette": 20,
    "Vegan Chocolate Tart": 25,
    "Cinnamon Roll": 18,
    "Birthday Cake": 150
}

# Generate date range for 8 months
start_date = datetime(2024, 1, 1)
end_date = datetime(2024, 8, 31)
date_range = pd.date_range(start_date, end_date)

# Generate sales data
rows = []
for date in date_range:
    weekday = date.weekday()  # 0 = Monday, 6 = Sunday
    for product, price in products.items():
        # Simulate higher weekend demand
        if weekday in [5, 6]:  # Saturday, Sunday
            qty = random.randint(10, 35)
        else:
            qty = random.randint(5, 20)
        revenue = qty * price
        rows.append([date.strftime("%Y-%m-%d"), product, qty, price, revenue])

# Create DataFrame
df = pd.DataFrame(rows, columns=["Date", "Product", "Qty_Sold", "Unit_Price", "Total_Revenue"])

# Save to CSV
df.to_csv("data/sales.csv", index=False)
print("âœ… Enhanced sales.csv generated successfully in /data")

